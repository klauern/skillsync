---
globs: ["internal/cli/*.go"]
---
# CLI Development

## urfave/cli v3 Patterns
- Commands defined in [internal/cli/commands.go](mdc:internal/cli/commands.go)
- Command `Description` includes extended usage and examples
- Action functions delegate to helpers in `internal/cli` or domain packages

## Flag Patterns
- Use `Aliases` for short forms
- Add `Usage` for every flag
- Use `Value` for defaults
- Prefer typed getters in actions (`cmd.String`, `cmd.Bool`, etc.)

## Output
- Use [ui/color.go](mdc:internal/ui/color.go) for colored output
- Structured output: JSON/YAML via `--format` flag (see [internal/cli/commands.go](mdc:internal/cli/commands.go))
